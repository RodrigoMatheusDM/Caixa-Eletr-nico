<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">

<head>

	<script>
var saldo = 100.5; // Float
var extrato = []; // Array para armazenar o histórico de transações
var senhaCorreta = "3589";

function nome() {
    var nome = prompt('Qual é o seu nome?');
    alert('Olá ' + nome + '!');
    inicio();
}

function inicio() {
    var escolha = parseInt(prompt('Selecione uma opção:\n1.) Saldo\n2.) Extrato\n3.) Saque\n4.) Depósito\n5.) Transferência\n6.) Comprar Item\n7.) Sair'));

    switch (escolha) {
        case 1:
            verificarSenha(acessarSaldo);
            break;
        case 2:
            verificarSenha(acessarExtrato);
            break;
        case 3:
            verificarSenha(fazer_saque);
            break;
        case 4:
            verificarSenha(fazer_deposito);
            break;
        case 5:
            verificarSenha(fazer_transferencia);
            break;
        case 6:
            comprar_item();
            break;
        case 7:
            sair();
            break;
        default:
            erro();
    }
}

function verificarSenha(callback) {
    var senhaUsuario = prompt("Digite sua senha:");
    if (senhaUsuario === senhaCorreta) {
        callback();
    } else {
        alert("Senha incorreta. Acesso negado.");
        inicio();
    }
}

function acessarSaldo() {
    alert('Seu saldo atual é: ' + saldo);
    nome();
}

function fazer_deposito() {
    var deposito = parseFloat(prompt('Qual o valor para depósito?'));

    if (isNaN(deposito) || deposito <= 0) {
        alert('Operação não autorizada. O valor do depósito deve ser maior que zero.');
        inicio();
    } else {
        saldo += deposito;
        extrato.push({ tipo: 'Depósito', valor: deposito });
        acessarSaldo();
    }
}

function fazer_saque() {
    var saque = parseFloat(prompt('Qual o valor para saque?'));

    if (isNaN(saque) || saque === '') {
        alert('Por favor, informe um número válido.');
        fazer_saque();
    } else if (saque <= 0) {
        alert('Operação não autorizada. O valor do saque deve ser maior que zero.');
        inicio();
    } else if (saque > saldo) {
        alert('Operação não autorizada. Valor do saque excede o saldo disponível.');
        inicio();
    } else {
        saldo -= saque;
        extrato.push({ tipo: 'Saque', valor: saque });
        acessarSaldo();
    }
}

function acessarExtrato() {
    if (extrato.length === 0) {
        alert('Nenhuma transação registrada no extrato.');
    } else {
        var extratoString = 'Extrato:\n';
        extrato.forEach(function (transacao, index) {
            extratoString += (index + 1) + '. ' + transacao.tipo + ': ' + transacao.valor.toFixed(2) + '\n';
        });
        alert(extratoString);
    }
    inicio();
}

function comprar_item() {
    var opcao = parseInt(prompt('Selecione o item a comprar:\n1.) Item de $10\n2.) Item de $20'));

    switch (opcao) {
        case 1:
            if (saldo < 10) {
                alert('Saldo insuficiente para comprar este item.');
            } else {
                saldo -= 10;
                extrato.push({ tipo: 'Compra', valor: -10 });
                alert('Item de $10 comprado com sucesso.');
            }
            break;
        case 2:
            if (saldo < 20) {
                alert('Saldo insuficiente para comprar este item.');
            } else {
                saldo -= 20;
                extrato.push({ tipo: 'Compra', valor: -20 });
                alert('Item de $20 comprado com sucesso.');
            }
            break;
        default:
            erro();
    }
    inicio();
}
function fazer_transferencia() {
    var contaDestino = prompt('Informe o número da conta de destino:');
    var valorTransferencia = parseFloat(prompt('Informe o valor da transferência:'));

    // Verifica se a conta de destino contém apenas números
    if (/^\d+$/.test(contaDestino) === false) {
        alert('Número da conta de destino inválido. Por favor, informe apenas números.');
        fazer_transferencia();
        return;
    }

    if (isNaN(valorTransferencia) || valorTransferencia <= 0) {
        alert('Valor de transferência inválido. Por favor, informe um número válido maior que zero.');
        fazer_transferencia();
    } else if (valorTransferencia > saldo) {
        alert('Operação não autorizada. Valor da transferência excede o saldo disponível.');
        nome();
    } else {
        saldo -= valorTransferencia;
        extrato.push({ tipo: 'Transferência para ' + contaDestino, valor: -valorTransferencia });
        alert('Transferência de $' + valorTransferencia.toFixed(2) + ' para a conta ' + contaDestino + ' realizada com sucesso.');
        nome();
    }
}
		function erro() {
			alert('Por favor, informe um número entre 1 e 4');
			nome();
		}

		function sair() {
    var nomeUsuario = prompt('Por favor, informe seu nome:');
    alert(nomeUsuario + ', foi um prazer ter você por aqui!');
    window.close();
}

		
		
		nome();
	</script>

<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:xd_Signature msdt:dt="string"></mso:xd_Signature>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor msdt:dt="string">GABRIEL AZEVEDO</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor>
<mso:Order msdt:dt="string">2400.00000000000</mso:Order>
<mso:xd_ProgID msdt:dt="string"></mso:xd_ProgID>
<mso:ComplianceAssetId msdt:dt="string"></mso:ComplianceAssetId>
<mso:TemplateUrl msdt:dt="string"></mso:TemplateUrl>
<mso:ReferenceId msdt:dt="string"></mso:ReferenceId>
<mso:_ExtendedDescription msdt:dt="string"></mso:_ExtendedDescription>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author msdt:dt="string">GABRIEL AZEVEDO</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author>
<mso:TriggerFlowInfo msdt:dt="string"></mso:TriggerFlowInfo>
<mso:ContentTypeId msdt:dt="string">0x01010007715694252FA147AD75DD5D81F5DACE</mso:ContentTypeId>
<mso:_SourceUrl msdt:dt="string"></mso:_SourceUrl>
<mso:_SharedFileIndex msdt:dt="string"></mso:_SharedFileIndex>
<mso:TaxCatchAll msdt:dt="string"></mso:TaxCatchAll>
<mso:MediaServiceImageTags msdt:dt="string"></mso:MediaServiceImageTags>
<mso:lcf76f155ced4ddcb4097134ff3c332f msdt:dt="string"></mso:lcf76f155ced4ddcb4097134ff3c332f>
</mso:CustomDocumentProperties>
</xml><![endif]-->
<title></title></head>

<body>

</body>

</html>